# 软件测试

  测试分为**功能测试**和**非功能测试**  
  非功能测试分为性能测试，压力测试，容量测试，健壮性测试，安全性测试，可靠性测试，恢复性测试，备份测试，协议测试，兼容性测试，可用性测试，配置测试，GUI测试。

## 软件测试阶段  
   * 单元测试
  
  完成最小的软件设计单元（模块）的验证工作，确保模块被正确的编码。  
  通常情况下是白盒测试，对代码风格和规则，程序设计和结构，业务逻辑等进行静态测试，及早地发现和解决不易显现的错误。

   * 集成测试
  
  通过测试发现于模块接口有关的问题。目标是把通过了单元测试的模块拿来，构造一个在设计中所描述的程序结构，应避免一次性的集成，采用增量集成。

   * 系统测试
  
  基于系统整体需求说明书的黑盒类测试，应覆盖系统所有联合的部件。系统测试是针对整个产品系统进行的测试，目的是验证系统是否满足了需求规格的定义，找出与需求规格不相符合或与之矛盾的地方。系统测试的对象不仅仅包括需要测试的产品系统的软件，还要包含软件所依赖的硬件，外设甚至包括某些数据，某些支持软件即接口等。因此必须将系统中的软件与各种以来的资源结合起来，再系统实际运行环境下来进行测试。

   * 回归测试
  
  回归测试是指在发生修改之后重新测试先前的测试用例以保证修改的正确性。理论上，软件产生新版本，都需要进行回归测试，验证以前发现和修复的错误是否在新软件版本上再次出现。根据修复好了的缺陷再重新进行测试。回归测试的目的在于验证以前出现过但已经修复好的缺陷不再重新出现。一般指对某已知修正的缺陷再次围绕它原来出现时的步骤重新测试。

   * 验收测试
  
  验收测试是指系统开发生命周期方法论的一个阶段，这时相关的用户或独立测试人员根据测试计划和结果对系统进行测试和接收。它让系统用户决定是否接收系统。它是一项确定产品是否能够满足合同或用户所规定需求的测试。验收测试包括 `Alpha` 测试和 `Beta` 测试。  
   - Alpha测试 是由用户再开发者的场所来进行的。在一个受控的环境中进行。  
   - Beta测试 由软件的最终用户在一个或多个用户场所来进行的，开发者通常不在现场，用户记录测试中遇到的问题并报告给开发者，开发者对系统进行最后的修改，并开始准备发布最终的软件。

### 集成测试和系统测试的区别，应用场景主要是什么？
区别 :  
 1. 计划和用例编制的先后顺序：一般在需求阶段就要制定系统测试计划和用例，HLD的时候做集成测试计划和用例。
 2. 用例的粒度：系统测试用例相对很接近用户接受测试用例；集成测试用例比系统测试用例更详细，而且对于接口部分要重点写
 3. 执行的顺序：先集成测试，再做系统测试

应用场景：
 1. 集成测试：完成单元测试后，各模块联调测试，集中在各模块的接口是否一致，各模块间的数据流和控制流是否按照设计实现其功能，以及结果的正确性验证等等；可以是整个产品的集成测试，也可以是大模块的集成测试；集成测试主要是针对程序内部结构进行测试，特别是对程序之间的接口进行测试。集成测试对测试人员的编写脚本能力要求比较高。测试方法一般选用黑盒测试和白盒测试相结合。
 2. 系统测试：针对整个产品的全面测试，既包含各模块的验证性测试和功能性测试，又包括对整个产品的健壮性，安全性，可维护性即各种性能参数的测试。系统测试测试软件《需求规格说明书》中提到的功能是否又遗漏，是否正确的实现。做系统测试要严格按照《需求规格说明书》，以它为标准。测试方法一般都是用黑盒测试。

## 测开需要哪些知识和能力
知识：

* 软件测试基础理论
* 编程
* 自动化测试工具
* 计算机基础 数据库 网络 Linux等
* 测试框架 JUnit等

能力：
* 业务分析能力
* 缺陷洞察能力
* 团队协作能力
* 专业技术能力
* 逻辑思考能力
* 问题解决能力
* 沟通表达能力
* 宏观把控能力

## 黑盒测试和白盒测试
黑盒测试：

黑盒测试也称为功能测试或数据驱动测试。在测试时，把程序看作一个不能打开的黑盒子，在完全不考虑程序内部结构和内部特性的情况下，测试者在程序接口进行测试，它只检查程序功能是否按照《需求规格说明书》的规定正常使用，程序是否能适当地接收输入数据而产生正确的输出信息，并且保持外部信息（数据库，文件）的完整性。

黑盒测试着眼于程序的外部结构，不考虑内部逻辑结构，针对软件界面和软件功能进行测试。黑盒测试是**穷举输入测试**，只有把所有可能的输入都作为测试情况使用，才能以这种方法查出程序中所有的错误。测试要不仅测试所有合法的输入，而且还要对那些不合法但是可能的输入进行测试。

> 常用的黑盒测试方法（设计测试用例）：
> * 等价类划分法
> 将系统的输入域划分为若干部分，然后从每个部分选取少量代表性数据进行测试，等价类可以划分为有效等价类和无效等价类
> * 边界值分析法
> 是对等价类划分的一种补充
> * 因果图法
> 用于描述系统输入输出之间的因果关系，约束关系。因果图的绘制过程是对被测系统的外部特征的建模过程，根据输入输出间的因果图可以得到判定表，从而规划出测试用例。
> * 场景法
> * 正交实验设计法
> 正交是从大量的试验点中挑选出适量的，有代表性的点。正交试验设计是研究多因素多水平的一种设计方法，他是一种基于正交表的高效率，快速，经济的试验设计方法。
> * 判定表驱动分析法
> 判定表是分析和表达多种输入条件下系统执行不同动作的工具，它可以把复杂的逻辑关系和多种条件组合的情况表达的既具体又明确
> * 错误推测法
> 主要是针对系统对于错误操作时对于操作的处理法的猜测发，从而设计测试用例
> * 功能图分析法
> * 状态迁移法
> 对一个状态在给定的条件内能够产生需要的状态变化，有没有出现不可达的状态和非法的状态，状态迁移法是设计足够的用例达到对系统状态的覆盖，状态，条件组合，状态迁移路径的覆盖
> * 流程分析法
> 主要针对测试场景类型属于流程测试场景的测试项下的测试子项进行设计，这是从白盒测试中路径覆盖分析法借鉴过来的一种很重要的方法
> * 输入域测试法
> 针对输入会有各种各样的输入值的一个测试，主要考虑极端测试，中间范围测试，特殊值测试
> * 输出域分析法
> 对输出域进行等价类和边界值分析，确定是要覆盖的输出域样点反推得到应该输入的输入值，从而构造出测试用例，他的目的是为了达到输出域的等价类和边界值覆盖。
> * 异常分析法
> 针对系统又可能存在的异常操作，软硬件缺陷引起的故障进行分析，分析发生错误时系统对于错误的处理能力和回复能力依次此设计测试用例

白盒测试：

白盒测试也称为结构测试或逻辑驱动测试，是针对被测单元内部是如何进行工作的测试。它根据程序的控制结构设计测试用例，主要用于软件或程序验证。白盒测试检查程序内部逻辑结构，对所有的逻辑路径进行测试，是**穷举路径测试**的测试方法。  
缺点：   
* 穷举路径测试无法检查出程序本身是否违反了设计规范，即程序是否是一个错误的程序
* 穷举路径测试不可能检查出程序因为遗漏路径而出错
* 穷举路径测试发现不了一些与数据相关的错误

白盒测试需要遵循的原则：
1. 保证一个模块中的所有独立路径至少被测试一次
2. 所有逻辑值均需要测试真和假
3. 检查程序的内部数据结构，保证去结构的有效性
4. 在上下边界及可操作范围内运行所有循环

> 常用的白盒测试方法：
> * 静态测试
> 不用运行程序的测试，包括代码检查，静态结构分析，代码质量度量，文档测试等等，它可以由人工进行，充分发挥人的逻辑思维优势，也可以借助软件工具自动进行。
> * 动态测试
> 需要执行代码，通过运行程序找到问题，包括功能确认与接口测试，覆盖率分析，性能分析，内存分析等。

白盒测试中的逻辑覆盖包括语句覆盖，判定覆盖，条件覆盖，判定/条件覆盖，条件组合覆盖和路径覆盖。六种覆盖标准发现错误的能力呈有强到弱的变化：
1. 语句覆盖每条语句至少执行一次。
2. 判定覆盖每个判定的每个分支至少执行一次。
3. 条件覆盖每个判定的每个条件应取到各种可能的值。
4. 判定/条件覆盖同时满足判定覆盖条件覆盖
5. 条件组合覆盖每个判定中各条件的每一种组合至少出现一次。
6. 路径覆盖使程序中的每一条可能的路径至少执行一次。

## 手动测试和自动化测试优缺点
手动测试优点：

1. 测试人员具有经验和对错误的判断力
2. 测试人员具有审美能力和心理体验
3. 测试人员具有是非判断和逻辑推理能力

缺点：

1. 重复的手工回归测试，成本高，容易出错
2. 依赖于软件测试人员的能力

自动化测试优点：
1. 对程序的回归测试更方便
2. 可以运行更多更繁琐的测试
3. 可以执行一些手工测试困难或不可能进行的测试。比如，对于大量用户的测试，可以通过自动化测试模拟同时有许多用户，从而达到测试目的
4. 更好地利用资源，提高手工测试的效率，专注于仅适合与手工测试的部分
5. 测试具有一致性和可重复性。每次的测试结果和执行的内容的一致性是可以得到保障的
6. 测试的复用性，由于自动测试通常采用脚本技术，这样就有可能只需要做少量的甚至不做修改，实现在不同的测试过程中使用相同的用例
7. 增加软件信任度。由于测试是自动执行的，所以不存在执行过程中的疏忽和错误，完全取决于测试的设计质量

缺点：

1. 不能取代手工测试
2. 手工测试比自动测试发现的缺陷更多
3. 对测试质量的依赖性极大
4. 测试自动化不能提高有效性
5. 测试自动化可能会制约软件开发。由于自动化测试比手动测试更脆弱，所以维护会收到限制，从而限制软件的开发
6. 工具本身并无想象力

自动化测试的意义：
1. 可以对程序的新版本自动执行回归测试
2. 可以执行手工测试困难或者不可能实现的测试：压力测试 并发测试
3. 能够更好的利用资源 节省时间和人力

执行自动化测试之前 首先判断这个项目适不适合推广自动化测试，然后对项目做需求分析，指定测试计划，搭建自动化测试框架，设计测试用例，执行测试，评估

## 测试的相关流程
需求测试 => 概要设计测试  => 详细设计测试  => 单元测试  => 集成测试  => 系统测试  => 验收测试

## 如何写用例测试
1. 测试人员尽早接入，彻底理解清楚需求，这个是写好测试用例的基础
2. 如果以前有类似的需求，可以参考类似需求的测试用例，然后还需要看类似需求的bug情况
3. 清楚输入，输出的各种可能性，以及各种输入之间的关联关系，理解清楚需求的执行逻辑，通过等价类，边界值，判定表等方法找出大部分用例
4. 找到需求相关的一些特性，补充测试用例
5. 根据自己的经验分析遗漏的测试场景
6. 多总结类似功能点的测试点，才能够写出质量越来越高的测试用例
7. 书写格式一定要清晰

## 测试项目的具体工作是什么？
* 搭建测试环境
* 撰写测试用例
* 执行测试用例
* 写测试计划 测试报告
* 测试，并提交 BUG 表单
* 跟踪 bug 修改情况
* 执行自动化测试，编写脚本，执行，分析，报告
* 进行性能测试 压力测试等其他测试 执行 分析 调优 报告

## 怎么去评测 bug ？
Bug 的 priority 和 severity 是两个重要属性。通常人员在提交 bug 的时候，只定义 severity，而将 priority 交给 leader 定义。

severity：
1. blocker  系统无法执行，崩溃，或严重资源不足，应用模块无法启动或异常退出，无法测试，造成系统不稳定。  
   常见的有严重花屏，内存泄漏，用户数据丢失或破坏，系统崩溃/死机/冻结，模块无法启动或异常退出，严重的数值计算错误，功能设计与需求严重不符，其他导致无法测试的错误，如服务器错误等
2. critical 即映像系统功能或操作，主要功能存在严重缺陷，但不会映像到系统稳定性。  
   常见的有：功能未实现，功能错误，系统刷新错误，数据通讯错误，轻微的数值计算错误，影响功能及界面的错误字或拼写错误。
3. major 即界面，性能缺陷，兼容性。  
   常见的有：操作界面错误，边界条件错误，提示信息错误，长时间操作无进度提示，系统未优化，兼容性问题。
4. minor/trivial 即易用性及建议性问题。

priority：
1. immediate 马上解决
2. urgent 急需解决
3. high 高度重视，有时间要马上解决
4. low 在系统发布前解决，或确认可以不用解决

## app性能测试的指标
1. 内存
2. CPU
3. 流量
4. 电量
5. 启动速度
6. 滑动速度，界面切换速度
7. 与服务器交互的网络速度

## 怎么测试网络协议
协议测试包括四种类型的测试
1. 一致性测试 检测协议实现本身与协议规范的符合程度
2. 互操作性测试 基于某一协议检测不同协议实现间互操作互通信的能力
3. 性能测试 检测协议实现的性能指标，比如数据传输速度，连接时间，执行速度，吞吐量，并发度等
4. 健壮性测试 检测协议是现在各种恶劣环境下运行的能力，比如注入干扰报文，通讯个章，信道被切断等

## web测试和app测试的不同点
1. 系统架构方面  
   web项目 一般是bs架构，基于浏览器的  
   app项目是cs的，必须要有客户端，用户需要安装客户端
2. 性能方面  
   web页面主要会关注响应时间  
   app还需要关心流量 电量 CPU GPU 内存等  
   服务端性能没有区别，都是一台服务器
3. 兼容方面  
   web是基于浏览器的，更倾向于浏览器 电脑硬件 电脑系统方面的兼容  
   app测试要看分辨率 屏幕尺寸 设备系统  
   app是客户端，必须测试安装 更新 卸载 安装时的中断 弱网 安装后删除安装文件  
   此外app 啊hi有一些专项测试 如网络 适配性等。

## 请你说一说测试登陆界面
1. 功能测试
   * 输入正确的用户名和密码，点击提交按钮，验证是否能正确登录
   * 输入错误的用户名或者密码，验证登录失败，并且提示相应的错误信息
   * 登陆成功后能否跳转到正确的页面
   * 用户名和密码 如果太长或太短，是否有提示
   * 用户名和密码中有特殊字符的处理
   * 记住用户名的功能
   * 登陆失败后，不能记录密码的功能
   * 用户名和密码前后又空格的处理
   * 密码是否非明文显示，使用星号圆点等符号代替
   * 牵扯到验证码的，还要考虑文字是否扭曲过度导致辨认难度大，考虑颜色（针对色盲），刷新或换一个按钮是否好用
   * 登录页面中的注册，忘记密码，登出用另一个账号登录等链接是否正确
   * 输入密码的时候大写键盘开启的时候是否有提示信息
   * 什么都不输入，点击提交按钮，检查提示信息
2. 界面测试
   * 布局是否合理，textbox和按钮是否整齐
   * textbox和按钮的长度 高度时候符合要求
   * 界面的设计风格是否与UI的是设计风格统一
   * 界面中的文字简洁易懂，没有错别字。
3. 性能测试
   * 打开登陆页面，需要的时间是否在需求要求的时间内
   * 输入正确的用户名和密码后，检查登录成功跳转到新页面的时间是否在需求要求的时间内
   * 模拟大量用户同时登录，检查一定压力下能否正常登录跳转
4. 安全性测试
   * 登陆成功后生成的cookie 时候是httponly
   * 用户名和密码是否通过加密的方式 发给服务端
   * 用户名和密码的验证，应该是在服务器端验证，而不能单单是在客户端
   * 用户名和密码的输入框 应该屏蔽SQL注入攻击
   * 用户名和密码的输入框 应该禁止输入脚本（防止xss攻击）
   * 防止暴力破解，检测是否有错误登录的次数限制。
   * 是否支持多用户在同一机器上登录
   * 同一用户能否在多台机器上登录
5. 可用性测试
   * 是否可以全用键盘操作，是否有快捷键
   * 输入用户名 密码后回车是否可以登录
   * 输入框能否按tab键切换
6. 兼容性测试
   * 不同浏览器下能否正常显示且功能正常（safari，ie，chrome，firefox，360等）
   * 同种浏览器不同版本下能否正常显示且功能正常
   * 不同平台 windows mac
   * 移动设备
   * 不同分辨率
7. 本地化测试
   * 切换语言环境